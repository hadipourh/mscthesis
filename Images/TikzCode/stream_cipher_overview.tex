\begin{tikzpicture}
\draw (-2,1) node  {} -- (0,1) -- (-0.5,0) -- (-1.5,0) -- cycle;
\node [] at (-1,0.5) {\huge $f$};
\draw[rounded corners=0.1cm]  (-1.5,3) rectangle  node {\huge $S_{t}$} (-0.5,2);
\draw[rounded corners=0.1cm]  (0.5,3) rectangle node {\huge $F$}  (2.5,2);
\draw[rounded corners=0.1cm]  (-2.5,5.5) rectangle node {\it \lr{Initialization}}  (0.5,4.5);
\draw  (-1,-1.5) circle (0.3);
\draw [] (-1,-1.8) -- (-1,-1.2);
\draw (-1.3,-1.5) node (v1) {} -- (-0.7,-1.5) node (v2) {};
\draw [-latex', line width = 0.4mm] (-1,0) -- (-1, -1.2);
\node [] at (-1.3,-1) {$z_{t}$};
\draw [-latex', line width = 0.4mm] (-1,2) -- (-1,1);
\draw  [-latex', line width = 0.4mm] (-0.25,0.5) -- (1.5,0.5) -- (1.5,2);
\draw  [-latex', line width = 0.4mm] (0.5,2.5) -- (-0.5,2.5);
\draw  [-latex', line width = 0.4mm] (-1,4.5) -- node[midway, left] {$S_{0}$} (-1,3);
\draw [-latex', line width = 0.4mm] (-2,6.5) node[above] {$Key$} -- (-2,5.5);
\draw  [-latex', line width = 0.4mm] (0,6.5) node[above] {$IV$} -- (0,5.5);
\draw [dashed, color = blue, line width = 0.5mm, rounded corners=0.1cm] (-3.5,6) rectangle (1.5,4);
\draw [dashed, color = red, line width = 0.5mm, rounded corners=0.1cm] (3,3.5) rectangle (-3.5,-0.5);
\draw [-latex', line width = 0.4mm] (-3,-1.5) node [left] {$p_{t}$} -- (-1.3,-1.5);
\draw [-latex', line width = 0.4mm] (-0.7,-1.5) -- (1,-1.5) node [right] {$c_{t}$} ;
\end{tikzpicture}